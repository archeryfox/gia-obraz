# обзор проекта WSDF

## Общая структура

Проект представляет собой WPF-приложение на C# с использованием Entity Framework для работы с базой данных. Приложение реализует систему управления пользователями и карточками с авторизацией и регистрацией.

## Основные сущности

1. **User** (Пользователь) - основная сущность с атрибутами:
    
    - id - уникальный идентификатор
    - name - имя пользователя
    - roleId - идентификатор роли
    - связь с Role - роль пользователя
    - связь с Card - карточки пользователя (многие ко многим)
2. **Role** (Роль) - роли пользователей:
    
    - id - уникальный идентификатор
    - name - название роли
3. **Card** (Карточка) - сущность карточек:
    
    - id - уникальный идентификатор
    - name - название карточки
    - связь с User - пользователи карточки (многие ко многим)

## Функциональность

### Авторизация и регистрация

1. **Авторизация** (LoginWindow):
    
    - Вход по имени пользователя и паролю
    - Для простоты все пароли установлены как "password"
    - При успешной авторизации открывается главное окно
2. **Регистрация** (RegisterWindow):
    
    - Создание нового пользователя
    - Выбор роли из существующих
    - После успешной регистрации происходит автоматическая авторизация

### Управление пользователями (MainWindow)

1. **Просмотр** - отображение списка всех пользователей
2. **Добавление** - создание нового пользователя через AddUserDialog
3. **Редактирование** - изменение данных пользователя через UpdateUserDialog
4. **Удаление** - удаление пользователя с подтверждением

### Управление карточками (CardsView)

1. **Просмотр** - отображение списка всех карточек
2. **Добавление** - создание новой карточки через AddCardDialog
3. **Редактирование** - изменение данных карточки через UpdateCardDialog
4. **Удаление** - удаление карточки с подтверждением

## Рабочий процесс

1. При запуске приложения показывается окно авторизации
2. Пользователь может войти или зарегистрироваться
3. После успешного входа открывается главное окно со списком пользователей
4. Из главного окна можно перейти к управлению карточками
5. В обоих окнах доступны все CRUD-операции для соответствующих сущностей

# описание файлов проекта WSDF

## Основные файлы приложения

### App.xaml и App.xaml.cs

- **App.xaml** - определяет ресурсы приложения
- **App.xaml.cs** - содержит логику запуска приложения, показывает окно авторизации и хранит текущего пользователя

### MainWindow.xaml и MainWindow.xaml.cs

- **MainWindow.xaml** - интерфейс главного окна со списком пользователей
- **MainWindow.xaml.cs** - логика управления пользователями (просмотр, добавление, редактирование, удаление)

## Файлы для работы с базой данных

### Model.edmx

- Модель Entity Framework для работы с базой данных
- Определяет сущности User, Role и Card и связи между ними

### DBEntits.cs

- Контекст базы данных для Entity Framework
- Содержит DbSet для каждой сущности

### User.cs, Role.cs, Card.cs

- Классы сущностей, сгенерированные Entity Framework
- Определяют свойства и связи между сущностями

## Окна авторизации и регистрации

### LoginWindow.xaml и LoginWindow.xaml.cs

- **LoginWindow.xaml** - интерфейс окна авторизации с полями для ввода имени и пароля
- **LoginWindow.xaml.cs** - логика авторизации и переход к регистрации

### RegisterWindow.xaml и RegisterWindow.xaml.cs

- **RegisterWindow.xaml** - интерфейс окна регистрации с полями для создания нового пользователя
- **RegisterWindow.xaml.cs** - логика создания нового пользователя и выбора роли

## Окна для работы с пользователями

### AddUserDialog.xaml и AddUserDialog.xaml.cs

- **AddUserDialog.xaml** - интерфейс для добавления нового пользователя
- **AddUserDialog.xaml.cs** - логика создания пользователя и выбора роли

### UpdateUserDialog.xaml и UpdateUserDialog.xaml.cs

- **UpdateUserDialog.xaml** - интерфейс для редактирования пользователя
- **UpdateUserDialog.xaml.cs** - логика обновления данных пользователя

## Окна для работы с карточками

### CardsView.xaml и CardsView.xaml.cs

- **CardsView.xaml** - интерфейс окна со списком карточек
- **CardsView.xaml.cs** - логика управления карточками (просмотр, добавление, редактирование, удаление)

### AddCardDialog.xaml и AddCardDialog.xaml.cs

- **AddCardDialog.xaml** - интерфейс для добавления новой карточки
- **AddCardDialog.xaml.cs** - логика создания карточки и связывания с пользователями

### UpdateCardDialog.xaml и UpdateCardDialog.xaml.cs

- **UpdateCardDialog.xaml** - интерфейс для редактирования карточки
- **UpdateCardDialog.xaml.cs** - логика обновления данных карточки и связей с пользователями

## Вспомогательные файлы

### App.config

- Настройки приложения, включая строку подключения к базе данных

### packages.config

- Список NuGet-пакетов, используемых в проекте (Entity Framework и др.)